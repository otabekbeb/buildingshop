import{i as w,q as L,a as p,c as _,d as s,l as k,u as e,b as x,w as S,f as m,t as i,R as B,Z as V,F as M,g as N,I as Z,$ as q}from"./index-1e78f834.js";import{i as D,j as F}from"./Search-1728f339.js";const R={class:"product_cart"},T={class:"icons"},U={class:"photo"},$=["src","alt"],j={class:"status"},A=s("svg",{width:"18",height:"17",viewBox:"0 0 18 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M9.00033 16.6667C4.39783 16.6667 0.666992 12.9358 0.666992 8.33333C0.666992 3.73083 4.39783 0 9.00033 0C13.6028 0 17.3337 3.73083 17.3337 8.33333C17.3337 12.9358 13.6028 16.6667 9.00033 16.6667ZM9.00033 15C10.7684 15 12.4641 14.2976 13.7144 13.0474C14.9646 11.7971 15.667 10.1014 15.667 8.33333C15.667 6.56522 14.9646 4.86953 13.7144 3.61929C12.4641 2.36905 10.7684 1.66667 9.00033 1.66667C7.23222 1.66667 5.53652 2.36905 4.28628 3.61929C3.03604 4.86953 2.33366 6.56522 2.33366 8.33333C2.33366 10.1014 3.03604 11.7971 4.28628 13.0474C5.53652 14.2976 7.23222 15 9.00033 15ZM8.16949 11.6667L4.63366 8.13083L5.81199 6.9525L8.16949 9.31L12.8828 4.59583L14.062 5.77417L8.16949 11.6667Z",fill:"#09B01A"})],-1),E={class:"prices"},I={class:"price"},O=s("div",{class:"price_desc"},"Цена за штуку",-1),z={class:"btns"},P={class:"count"},H={__name:"ProductCart",props:{product:{type:Object,required:!0}},setup(C){const h=C,{comparisonAdd:f}=D();F();const{product:t}=h,o=w((t==null?void 0:t.countCart)??1),g=()=>o.value++,y=()=>o.value--;return L(o,()=>{if(o.value<1)return o.value=1;if((t==null?void 0:t.countCart)<=o.value)return t==null?void 0:t.count}),(b,n)=>{var c,l,r,u,d,v;return p(),_("div",R,[s("div",T,[k(b.$slots,"button-icons")]),s("div",U,[s("img",{decoding:"async",loading:"lazy",src:(c=e(t))==null?void 0:c.imageUrl,alt:(l=e(t))==null?void 0:l.name},null,8,$)]),x(e(V),{to:e(B).product+"/"+((r=e(t))==null?void 0:r.id),class:"name"},{default:S(()=>{var a;return[m(i((a=e(t))==null?void 0:a.name),1)]}),_:1},8,["to"]),s("div",j,[(u=e(t))!=null&&u.availability?(p(),_(M,{key:0},[A,m(" В наличии: "),s("span",null,i((d=e(t))==null?void 0:d.unit),1)],64)):N("",!0)]),s("div",E,[s("div",I,i(((((v=e(t))==null?void 0:v.priceLess100000)??0)*o.value).toLocaleString())+" ₽",1),O]),s("div",z,[s("button",{class:"btn",onClick:n[0]||(n[0]=a=>e(f)(e(t),o.value))},"заказать"),s("div",P,[s("input",{type:"button",value:"-",onClick:y}),Z(s("input",{type:"number",step:"1",min:"1",max:"10",id:"num_count",name:"quantity","onUpdate:modelValue":n[1]||(n[1]=a=>o.value=a),title:"Qty"},null,512),[[q,o.value]]),s("input",{type:"button",value:"+",onClick:g})])])])}}};export{H as default};
